<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html layout:decorator="layout-video-one">
  <head>
    <title th:text="@{'Terrabis - '+${videoDTO.title}}">Terrabis - Video</title>
    
 
  </head>
  <body>
        <!-- Main section-->
      <section  layout:fragment="content">

         <div class="content-wrapper">
         

         
         
            <div class="content-heading">
            
            
                               <div class="row mb-lg">
                           <div class="col-md-12 col-xs-12 col-sm-12">
                             <span class="h2 text-bold text-gray-dark text-left"  th:text="${videoDTO.title}">VIDEO TITLE</span><br/>
                         </div>  
                  </div>
                  
            </div>


                  
                  

        <div class="row">
		<div class="col-md-9 col-xs-12 col-sm-12">
		<div class="pull-left">

	

        <div class="row">
		<div class="col-md-12 col-xs-12 col-sm-12">


		 	 <div class="row mb-sm">
				<div class="col-md-6 col-xs-12 col-sm-12">
							<div class="pull-left">
				                  <a  class="text-gray vidaction-mapzoom cursor-pointer m-sm" title="map zoom">
	                                 <em class="fa fa-map-marker fa-2x text-bold"></em>
								</a>
		                           


		                              <a class="text-gray vidaction-favorites cursor-pointer m-sm" title="add to favorites">
		                                 <em  class="fa fa-heart fa-2x"></em>
		                              </a>



		                              <a class="text-gray vidaction-watchlater cursor-pointer m-sm" title="watch later">
		                                 <em class="fa fa-film fa-2x"></em>
		                              </a>




			                        	<a class="text-gray vidaction-link cursor-pointer m-sm" title="embedd video">
			                                <em class="fa fa-link fa-2x"></em>
			                             </a>
			                             

                             
                             
                             
                            		 <a  th:if="${#authorization.expression('hasRole(''ROLEADMIN'')')}" th:href="@{'/admin/video-settings/'+${videoDTO.id}+'?redirect=/video/'+${videoDTO.id}}" class="text-white m-sm" title="edit"><span  id="editvideo-icon_12" class="text-gray fa-2x fa fa-file-text-o"></span></a>


                      <a  class="vidaction-like cursor-pointer" title="like"><em class="fa fa-thumbs-up fa-2x  text-info-light - " title="like"></em></a>
                       <span th:attr="id=${'vidlikestxt_'+{videoDTO.id}}" class="text-muted text-sm" th:if="${videoDTO.likescount>0}" th:text="${videoDTO.likescount}">15000</span>
                       <span th:attr="id=${'vidlikestxt_'+{videoDTO.id}}" class="text-muted text-sm" th:if="${videoDTO.likescount==0}"></span>

                           	
                           	      <a class="text-white m-sm" title="rating"><span class="fa fa-star fa-2x text-yellow-dark" title="rating"></span></a>
                            <span  class="text-muted text-sm-sm" th:text="${videoDTO.ratingssum}"></span>	
                           					
								
							</div>

						
	
			</div>	
			<div class="col-md-6 col-xs-12 col-sm-12">	<div class="social_buttons pull-right">
							</div>
			</div>
			
							<div class="col-md-10 col-xs-12 col-sm-12 videoplay_link hidden">
				                         	<span class="videoplay_link_text text-gray-more text-bold text-sm"  onClick="this.select();" th:text="${'http://www.terrabis.com/video/'+{videoDTO.id}}"></span>
							</div>
			
			</div>	
			
			
			
			
		 	 <div class="row">
				<div class="col-md-12 col-xs-12 col-sm-12 pull-left">
<!-- 				<div class="pull-right">
							<iframe width="850" height="470" class="fullvideoplay"  th:src="${videoDTO.videourl}" frameborder="0" allowfullscreen></iframe>
				</div>		 -->	
				
				    			<div id="panelblock" th:attr="data-likescount=${{videoDTO.likescount}},data-playscount=${{videoDTO.playscount}}, data-ratingssum=${{videoDTO.ratingssum}},data-title=${{videoDTO.title}}, data-description=${{videoDTO.description}}, data-id=${{videoDTO.id}},data-videourl=${{videoDTO.videourl}}" class="panel widget videopanel" style="background: none; width:820px; height:420;">
         							<div class="text-center bg-center" id="subpanelblockA">
                        			<div class="row">
                           				<div class="col-md-12 col-xs-12 col-md-12 col-sm-12">  
                           				
       									<div th:attr="id=${'vidoverlay_play_'+{videoDTO.id}}" class="vidoverlay_play -">
	                   						<div class="row row-table" th:replace="/fragments/video-grid-view :: video-overlay-play-one-view(video=${videoDTO})"></div>
	 									</div>	                             				
                           				
                           				                       				
										<div th:attr="id=${'vidoverlay_action_'+{videoDTO.id}}" class="vidoverlay_action hidden bg-info-fade">
										<div class="row row-table" th:replace="/fragments/video-grid-view :: video-overlay-action-one-view(video=${videoDTO})"></div>
										</div>                           				
										<img class="box-border-info" width=820 height="420" th:src="${videoDTO.thumburl}"/> 
                          			 	</div>
                        			</div>
                     				</div>
			                        <div class="row" id="subpanelblockB">
											<div class="col-md-12 col-xs-12 col-sm-12">
													  <div class="pull-left mt-sm">	
				                               			<span class="text-info-dark text-sm-md text-bold" title="duration" th:text="${videoDTO.durationtxt}">15:45</span>
						                              </div>
													  <div class="pull-right mt-sm">	
				                               			<span class="text-info-dark text-sm-md text-bold" title="views"><span  th:text="${videoDTO.playscount}"></span> views</span>
						                              </div>
													                           
				                    		</div>
				                    </div>	 	                    
				              </div>    				
				
				
				
				
				
				</div>
				 </div>

			
			
							 <div class="row">
				 
				 
		                       <div class="col-md-9">
		                       
		                       	                  		                    
		                    <div class="row mb-lg" th:if="${videoDTO.ownershipverified}">
		                             <div class="col-md-12 col-sm-12 col-xs-12">
		                              <p class="h2 text-gray-dark">
										  Made by <a th:href="@{'/user-'+${videoDTO.user.UUID}+'/'}"><span class="fullvideoplay_username" th:text="${videoDTO.user.shortdesc}"></span> </a> 
		                              <img  th:src="@{/images/verified.png}">
		                              </p>
		                              <p class="h4 text-gray-dark">
										  initially uploaded from  <a th:href="@{'/user-'+${videoDTO.uploader.UUID}+'/'}"><span class="fullvideoplay_username" th:text="${videoDTO.uploader.shortdesc}"></span> </a> <span class="time_badge">
										  on <span class="text-bold fullvideoplay_date" th:text="${videoDTO.shortAndSmart_DATECREATED}"></span>  </span>
		                              </p>
		                           </div>
		                    </div> 
		                       
		                       <div class="row mb-lg" th:if="${!videoDTO.ownershipverified}">
		                             <div class="col-md-12 col-sm-12 col-xs-12">
		                              <p class="text-sm-md text-gray-dark">
										  added <span class="text-bold fullvideoplay_date" th:text="${videoDTO.shortAndSmart_DATECREATED}"></span> 
										  from  <a th:href="@{'/user-'+${videoDTO.user.UUID}+'/'}"><span class="fullvideoplay_username" th:text="${videoDTO.user.shortdesc}"></span> </a> <span class="time_badge"> </span>
										  <span class="text-sm-md" th:if="${(!videoDTO.ownershipverified) and (!videoDTO.isfile) and (!videoDTO.vimeo)}">(Are you the maker of the video?  <a th:href="@{'/claim/request/' + ${videoDTO.id}}"><span class="text-bold">Claim</span> ownership</a>)</span>
										  
		                              </p>
		                           </div>
		                    </div> 
		                       
				                     <div class="row  mb-lg">
				                        <div class="col-xs-12 text-left mt-lg">
				                           <p class="text-gray-dark justify  fullvideoplay_description text-sm-md"  th:text="${videoDTO.description}">
				                           </p>
				                        </div>
				                  </div>
				                  


									<div class="row mb-lg videoratediv hidden">

					 
											<div class="col-md-12 col-xs-12 col-sm-12 mt-lg">
											<div class="pull-left">
					 														<select id="videoratingselect">
																				<option value="1">1 Hmmm..</option>
																				<option value="2">2 Average</option>
																				<option value="3" selected="selected">3 Good</option>
																				<option value="4">4 Amazing</option>
																				<option value="5">5 It Rocks!</option>
																			</select>
											</div>								
											</div>
								     </div> 


		                    

 			
				                  
				                  
				                  
				                  
                       		</div>
                       		
                       		 <div class="col-md-2 col-xs-12 col-sm-12"></div>
				 </div>
			
			
			
			
			</div>
		</div>			


</div>


     <div class="row"><div class="col-md-12 col-xs-12 col-sm-12">
   <div class="text-uppercase bg-info-dark h3 text-bold">MAP<span class="text-uppercase h4 text-bold pull-right"><a class="text-white" th:href="@{'/video/map/normal?videoid=' + ${videoDTO.id}}">+more videos around this area</a></span></div>
    </div></div> 

        <div class="row">

        
        <div class="col-md-12 col-xs-12 col-sm-12">
      		<div id="googlemap" class="gmaplg"></div>
      	</div>
      	        <div class="col-md-2 col-xs-12 col-sm-12"></div>
      	
      	
      	</div>	


</div>



		<!-- RIGHT   -->	
		<div class="col-md-3 col-xs-12 col-sm-12 pull-right">
		
		<div class="row">

			 <div class="col-md-12 col-xs-12 col-sm-12">
           		<div th:replace="/fragments/adverts :: video-one-view"></div>            
			</div>
		</div>
		


				                           <div class="row mt-lg row-table row-flush align-top bg-info">
				                              <div class="col-xs-12">
				                                 <div class="panel-body text-left">
				                                    <span class="h4 text-bold text-gray" th:if="${relatedListType=='NEARBY'}" th:text="${'NEARBY VIDEOS'}"></span>
				                                    <span class="h4 text-bold text-gray" th:if="${relatedListType=='TAGMATCHED'}" th:text="${'RELATED VIDEOS'}"></span>
				                                    <span class="h4 text-bold text-gray" th:if="${relatedListType=='LATEST'}" th:text="${'LATEST VIDEOS'}"></span>
				                                 </div>
				                              </div>
				                           </div>



       	<!-- DATA  -->
       	<div class="row"><div class="col-md-12 col-xs-12 col-sm-12" id="videoGrid">	
       			<div ID="ITERPOINT_ROW" class="row mt-lg" th:each="vid, iterStat : ${videoListDTO}">
				    <div ID="ITERPOINT_COLUMN" th:if="${videoDTO.id!=vid.id}" class="col-lg-3 col-md-3 col-xs-12 col-sm-4">
       	                			<div th:attr="data-likescount=${{vid.likescount}},data-playscount=${{vid.playscount}}, data-ratingssum=${{vid.ratingssum}},data-title=${{vid.title}},data-description=${{vid.description}}, data-id=${{vid.id}}, data-videourl=${{vid.videourl}}" class="panel widget w-XS videopanel" style="background: none;">
         							<div class="text-center bg-center" id="subpanelblockA">
                        			<div class="row">
                           				<div class="col-xs-12 col-md-12 col-sm-12">  
                           				<span class="text-bold text-inverse pull-left" th:if="${relatedListType=='NEARBY'}" th:text="${{vid.distance}+' km away'}"></span>
                           				</div>
                           				
                           				<div class="col-xs-12 col-md-12 col-sm-12">  
                           				<div th:attr="id=${'vidoverlay_action_'+{vid.id}}" class="vidoverlay_action bg-info-fade hidden">
										<div class="row row-table" th:replace="/fragments/video-grid-view :: video-overlay-action(video=${vid})"></div>
										</div>                        				
                           				
										<img th:if="${(vid.link!=null) and (vid.youtube)}" class="w-XS h-XS box-border-info" th:src="${vid.thumburl}"/> 
									    <img th:if="${(vid.link!=null) and (vid.vimeo)}" class="w-XS h-XS box-border-info"  th:attr="src=${vid.thumburl}"/>
									    <iframe th:if="${vid.link==null or (!vid.link)}" class="w-XS h-XS"  th:attr="src=@{'/video/play?uri='+${vid.videourl}+'&style=\'detail\''}"  scrolling="no" frameborder="0" allowfullscreen></iframe>										
                          			 </div>
                        		</div>
                     		</div>

                             <div class="row mt-sm">
		                             <div class="col-md-10 col-xs-12 col-sm-12">
		                              <div class="text-sm m0 text-bold text-inverse" th:text="${vid.title}"></div>
		                           </div>
									<div class="col-md-2 col-xs-12 col-sm-12">
		                             <div class="pull-right">
		                               			<span class="bg-info-dark text-white text-bold text-sm" title="duration" th:text="${vid.durationtxt}">15:45</span>
									</div>				                           
		                    </div>
		                    </div>
		                    
		                    
		                    <div class="row" id="subpanelblockC">
		                             <div class="col-md-12 col-sm-12 col-xs-12">
		                              <p class="m0 text-sm" th:if="${!vid.ownershipverified}">
										  <span class="time_badge">added <span class="text-bold text-inverse" th:text="${vid.shortAndSmart_DATECREATED}">1 week ago</span>  </span>
										  from <a th:href="@{'/user-'+${vid.user.UUID}+'/'}"><span th:text="${vid.user.shortdesc}">email</span> </a> 
										  
		                              </p>
		                              <p class="m0 text-sm" th:if="${vid.ownershipverified}">
										  <span class="time_badge"> added <span class="text-bold text-inverse" th:text="${vid.shortAndSmart_DATECREATED}">1 week ago </span>  </span>
										  made by <a th:href="@{'/user-'+${vid.user.UUID}+'/'}"><span th:text="${vid.user.shortdesc}">email</span> </a> 
										  
		                              </p>
		                           </div>
		                    </div>  
		                    
		                    
		                    
		 					<div class="row" id="subpanelblockD">
		                             <div class="col-md-12 col-xs-12 col-sm-12 text-sm>
            											<div class="row text-info" th:replace="/fragments/video-grid-view ::weather-and-likebtn-thumb(video=${vid},showlike='true')">
                     		                           </div>
                           	</div>
		                           </div>	
                    
		                    
		                    
		                    
	                  </div>
        	 </div>   
		</div>
		</div>
      	<!-- THUMB VIEW -->

		
		</div>

</div>



   
   


     
			   
  				   
  				   

                  <div class="row mt-lg bg-info-dark" sec:authorize="isAnonymous()">
                          <div class="col-md-12 col-xs-12 col-sm-12">
                            <span class="h2 text-bold text-white text-left">JOIN US!</span><br/>
                        </div>  
                        
                          <div class="col-md-2 col-xs-12 col-sm-12">
                            <span class="fa fa-smile-o fa-10x text-bold text-left"></span>
                        </div>  
                        
                          <div class="col-md-10 col-xs-12 col-sm-12"><br/><br/>
                            <span class="h3 text-white text-left">Sign up to start upload links from Youtube, Vimeo or your own video files!</span>
                        </div>  
                        
                        
                        
                 </div>	

        
   		
   		
   	</div>	
   		
   		

    <!-- =============== PAGE VENDOR SCRIPTS ===============-->
    <script src="../static/vendor/jquery/dist/jquery.js" th:src="@{/vendor/jquery/dist/jquery.js}"></script> 
	<script src="../static/vendor/jquery-bar-rating/dist/jquery.barrating.min.js" th:src="@{/vendor/jquery-bar-rating/dist/jquery.barrating.min.js}"></script> 
	<script type="text/javascript" src="http://maps.google.com/maps/api/js"></script>    
	<script src="../static/js/video-grid-html-view.js" th:src="@{/js/video-grid-html-view.js}"> </script>     
	<script src="../static/js/grid-view-renderer.js" th:src="@{/js/grid-view-renderer.js}"> </script> 
	<script src="../static/js/video-one-view.js" th:src="@{/js/video-one-view.js}"> </script>     
	



<script th:inline="javascript">
/*<![CDATA[*/
$( document ).ready(function() {


		terrabisApp.videoRelationsDataURI = [[@{'/rest/video-relations/'}]];		
	
	
		//INIT SOCIAL BUTTONS AND CURRENT VIDEO
		terrabisApp.currentVideo = [[${videoDTO}]];
		$('.social_buttons').html(create_socialbuttons_html([[${videoDTO}]]));

		
 	    terrabisApp.googleMarkerCenterMapImgURL = [[@{'/images/markers-list/map-marker-center.png'}]];
	    terrabisApp.googleMarkerImgURL = [[@{'/images/markers-list/map-marker.png'}]];


		terrabisApp.globalMap = createMapStandard([[${videoDTO.latitude}]],[[${videoDTO.longitude}]],[[${PERS.googleMapType}]],"googlemap");
		var markerImage = new google.maps.MarkerImage(terrabisApp.googleMarkerImgURL);
		createSimpleVideoMarker([[${videoDTO}]],markerImage);
		
		
		//PLAY
		terrabisApp.countVideoPlayURI = [[@{'/rest/video/play/'}]];
		countVideoPlay();
		$("#vidoverlay_play_iframe"+terrabisApp.currentVideo.id).attr( "src", terrabisApp.currentVideo.videourl+"?autoplay=1&modestbranding=1&showinfo=0&rel=0&title=0&byline=0&portrait=0");
		
		
		/****************** INIT VIDEO RATING -------------------*/
/*  	    $('#videoratingselect').barrating('show', {
	         theme: 'fontawesome-stars', //' bars-movie fontawesome-stars'
	         onSelect: function(value, text, event) {
	             if (typeof(event) !== 'undefined') {
	             	 videoRate(value);
	             }
	         }
	         
	     }); 
		 */
		
		
		
		//showRatingOverlayIfNotRatedBefore();
		
		//FETCH VIDEOS
		//terrabisApp.gridViewStyle=='THUMB';
		//showRelatedVideosOfVideo(terrabisApp.currentVideo.id,[[${_csrf.token}]]);
			


});	
/*]]>*/
</script>  












      </section>



  </body>
</html>  	  